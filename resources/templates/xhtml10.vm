#if($unicorncall.DocumentName)
  #set ($title = "$result_for $unicorncall.DocumentName")
#else
  #set ($title = $result_for_upload)
#end  
#set ($css = ['base.css', 'results.css'])
#parse( 'includes/head.vm' )

#macro(error $error)
  <span class="err_type">Error</span>
  <em>#if($error.Line)Line $error.Line #end #if($error.Column)Column $error.Column #end</em>:
  #foreach($message in $error.Message)
    <span class="msg">$message</span>
  #end
  #if($error.Context && $error.Context != "")
    <pre><code class="input">$error.Context</code></pre>
  #end
  <div class="ve mid-127">
  #foreach($longMessage in $error.Longmessage)
      <p>
      	#foreach($longMessagePiece in $longMessage.Content)
			$longMessagePiece
        #end
      </p>
  #end
  </div>
#end

#macro(info $information)
  <span class="err_type">Info</span>
  <em>#if($information.Line)Line $information.Line #end #if($information.Column)Column $information.Column #end</em>:
  #foreach($message in $information.Message)
    <span class="msg">$message</span>
  #end
  #if($information.Context && $information.Context != "")
    <pre><code class="input">$information.Context</code></pre>
  #end
  <div class="ve mid-127">
  #foreach($longMessage in $information.Longmessage)
      <p>
        #foreach($longMessagePiece in $longMessage.Content)
            $longMessagePiece
        #end
      </p>
  #end
  </div>
#end

#macro(warning $warning)
  <span class="err_type">Warning</span>
  <em>#if($warning.Line)Line $warning.Line #end #if($warning.Column)Column $warning.Column #end</em>:
  #foreach($message in $warning.Message)
    <span class="msg">$message</span>
  #end
  #if($warning.Context && $warning.Context != "")
    <pre><code class="input">$warning.Context</code></pre>
  #end
  <div class="ve mid-127">
  #foreach($longMessage in $warning.Longmessage)
      <p>
        #foreach($longMessagePiece in $longMessage.Content)
            $longMessagePiece
        #end
      </p>
  #end
  </div>
#end

#macro(produceErrors $errors)
    <ol class="error_list">
    #foreach($error in $errors)
      <li class="msg_err">
        #error($error)
      </li>
    #end
    </ol>
#end

#macro(produceWarnings $warnings)
      <ol class="warning_list">
      #foreach($warning in $warnings)
        <li class="msg_warn">
          #warning($warning)
        </li>
      #end
      </ol>
#end

#macro(produceInfos $infos)
    <ol class="info_list">
    #foreach($information in $infos)
      <li class="msg_info">
        #info($information)
      </li>
    #end
    </ol>
#end

<body>
  <div id="banner">
    <h1 id="title"><a href="http://www.w3.org/"><img height="48" alt="W3C" id="logo" src="http://www.w3.org/Icons/WWW/w3c_home_nb" /></a>
<img src="images/unicorn.png" alt="Unicorn" /></h1>
 
	
 
  </div>
  <p id="tagline">
        the Web's Universal Conformance Checker - <strong>ALPHA Test Version</strong>
  </p>
  <div id="result">
  #set($observationList = $unicorncall.ObservationList)
  #foreach($observationName in $observationList.keySet())
    #set($observation = $observationList.get($observationName))
    #if($observation.isPassed())
      <h2 class="valid">$test_ok_1 
      #if($observation.getVersion())
        $observation.getVersion().toUpperCase()
      #else 
        $observationName
      #end
      $test_ok_2</h2>
    #else
      <h2 id="results" class="invalid">$test_fail_1 
      #if($observation.getVersion())
        $observation.getVersion().toUpperCase()
      #else 
        $observationName
      #end
      $test_fail_2</h2>
      #foreach($result in $observation.getResultsList())
        #if(!$result.Errors.isEmpty())
          <h3>$location: $result.Uri</h3>
      	  #produceErrors($result.Errors)
      	#end
      #end
    #end
    
    
    #foreach($result in $observation.getResultsList())
      #if(!$result.Infos.isEmpty() || !$result.Warnings.isEmpty())
        <h3>$location: $result.Uri</h3>
      #end
  
      #if(!$result.Infos.isEmpty())
        #produceInfos($result.Infos)
      #end
    
      #if(!$result.Warnings.isEmpty())
        #produceWarnings($result.Warnings)
      #end
    #end
   <hr/>
   
  #end



  </div>

#parse( 'includes/footer.vm' )
